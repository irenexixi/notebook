;/*!app/scale*/
define("app/scale",function(t,i,e){var s=$("html"),n=$(window),h={scale:function(){var t=n.height()/1080,i=Math.min(1,t),e=t;this.$el.css("font-size",Math.max(this.minFontSize,32*i)),s.css("font-size",Math.max(this.minFontSize,32*e)),s.hasClass("lte8")&&this.$el.find("#container").height(this.$el.height())},events:function(){n.on("resize",_.throttle(_.bind(this.scale,this),100))},init:function(t){this.$el=$("body"),this.minFontSize=t||12,this.scale(),this.events()}};e.exports=h});
;/*!app/main*/
define("app/main",function(e){var i=e("app/scale"),n=e("app/widgets/slipblock"),a=e("app/widgets/sound"),t=e("package/info"),s=e("package/url"),o=Modernizr.cssanimations;i.init(18),n("#nav").start(),$.when(t.get(),s.get()).done(function(e,i){$("#package").find(".package-ver").text(e.version).end().find(".package-release").text(e.date).end().find(".package-url").attr("href",i)});var u=function(){var e=$(".scene");return o||e.css("top","100%").eq(0).css("top",0),{to:function(i,n){o||(e.finish(),e.eq(i).animate({top:"100%"},0).end().eq(n).animate({top:0},0))}}}(),r={scenes:$(".scene"),index:0,slidebar:$("#slidebar li"),lockTime:1e3,running:!1,KEY:{UP:38,DOWN:40,ENTER:13},playTimer:"",auto:{timer:0,gap:1e4},UIChange:function(e){var i="#scene-"+(e+1),n=$(i),a=this.slidebar.eq(e),t="scene-state-in",s="slidebar-active";this.scenes.removeClass(t),n.addClass(t),this.slidebar.removeClass(s),a.addClass(s),u.to(this.index,e),this.index=e},event:function(e){if(this.running)return!1;this.running=!0;var i=this;setTimeout(function(){i.running=!1},this.lockTime);var n=0;e>0?(n=this.index+1,n>4&&(n=0),this.UIChange(n)):0>e&&(n=this.index-1,0>n&&(n=4),this.UIChange(n))},play:function(){clearTimeout(this.playTimer);var e=this,i=3500;this.playTimer=setTimeout(function(){e.event(1),e.playTimer=setTimeout(arguments.callee,i)},i)},autoPlay:function(){var e=this;clearTimeout(this.auto.timer),this.auto.timer=setTimeout(function(){e.event(1),e.auto.timer=setTimeout(arguments.callee,e.auto.gap)},this.auto.gap)},enterPage:function(){$("#scene-1").addClass("scene-state-in"),$("html").hasClass("ie9")&&$(".scene-icon-1-front").delay(400).fadeOut(600).delay(1200).siblings(".scene-icon-1-back").fadeIn(600)},todo:function(e){clearTimeout(this.playTimer),this.event(e),this.autoPlay()},init:function(){var e=this;this.enterPage(),this.autoPlay(),$(document).on("keyup",function(i){i.keyCode==e.KEY.DOWN&&e.todo(1),i.keyCode==e.KEY.UP&&e.todo(-1),i.keyCode==e.KEY.ENTER}).on("mousewheel",function(i){i.deltaY<0&&e.todo(1),i.deltaY>0&&e.todo(-1)}),$("#slidebar").on("click","li",function(){var i=$(this).index();e.UIChange(i),e.autoPlay()})}},c=$(".button-download");c.on("click",function(){window._hmt&&_hmt.push(["_trackEvent","主页下载按钮","下载","下载"])});{var l,d={contain:$(".music"),clickEvent:function(){this.contain.on("click",function(){var e=$(this);e.toggleClass("music-stop");var i=e.hasClass("music-stop");i?a.pause():a.play()})},init:function(){a.start(),this.clickEvent()}},m=$(".bear");Modernizr.prefixed("animation")}$(window).on("resize",function(){clearTimeout(l),m.removeClass("running").addClass("reset"),$(".scene-icon-1-wrapper").addClass("reset"),l=setTimeout(function(){m.removeClass("reset").addClass("running")},250)});var g=["//liulanqi.baidu.com/theme/images/bg-mountain-1-11661c6.png","//liulanqi.baidu.com/theme/images/bg-mountain-2-f8a4360.png","//liulanqi.baidu.com/theme/images/bg-mountain-3-54c28fd.png","//liulanqi.baidu.com/theme/images/bg-aurora-1-322b435.png","//liulanqi.baidu.com/theme/images/bg-aurora-2-9872721.png","//liulanqi.baidu.com/theme/images/bg-aurora-3-96add9f.png","//liulanqi.baidu.com/theme/images/bg-aurora-4-131b685.png","//liulanqi.baidu.com/theme/images/bg-aurora-5-3514cd0.png"],h=function(){var e=$.Deferred(),i=g.length,n=0;return $.each(g,function(a,t){$("<img />").on("load",function(){++n,++n>=i&&e.resolve()}).attr("src",t)}),e.promise()};h().done(function(){$("body").addClass("scenes-ready"),r.init(),d.init()})});